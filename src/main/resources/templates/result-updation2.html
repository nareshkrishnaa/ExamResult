<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org">

<head>


    <title>Dynamic Form</title>
    <style>
    .item{
        border: solid 1px;
        padding: 20px;
        font-size: 20px;

    }
    .ctr{
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;

        padding: 5px;
    }
    .subject-field {
      display: flex;
      margin-bottom: 10px;

    }

    .subject-field input[type="text"],
    .subject-field input[type="number"] {
      margin-right: 10px;
    }

    #subjects-container {
      margin-top: 20px;
    }
  </style>
</head>

<body>
<div class="ctr">
    <div class="item">

        <form id="dynamic-form"
              th:action="@{/studentMarkSout}" method="post"
              th:object="${subjectMark}"
        >
            <label>Name : </label><label th:text="${subjectMark.name}"> </label>

            <br>
            <label>Roll No :</label><label th:text="${subjectMark.rollNo}"> </label>
            <div>
                <label for="exam-name">Name of the examination:</label>
                <input type="text" id="exam-name" th:field="*{nameOfTheExamination}" required>
            </div>

            <div id="subjects-container" >

                <div class="subject-field" >
                    <input type="text" class="subject" placeholder="Name of the subject" th:field="*{subject1}" >
                    <input type="number" class="marks" placeholder="Marks" th:field="*{mark1}" >
                    <input type="checkbox" class="subject-checkbox">
                </div>
                <div class="subject-field">
                    <input type="text" class="subject" placeholder="Name of the subject" th:field="*{subject2}" >
                    <input type="number" class="marks" placeholder="Marks" th:field="*{mark2}" >
                    <input type="checkbox" class="subject-checkbox">
                </div>
                <div class="subject-field" >
                    <input type="text" class="subject" placeholder="Name of the subject" th:field="*{subject3}" >
                    <input type="number" class="marks" placeholder="Marks" th:field="*{mark3}" >
                    <input type="checkbox" class="subject-checkbox">
                </div>
                <div class="subject-field">
                    <input type="text" class="subject" placeholder="Name of the subject" th:field="*{subject4}" >
                    <input type="number" class="marks" placeholder="Marks" th:field="*{mark4}">
                    <input type="checkbox" class="subject-checkbox">
                </div>
                <div class="subject-field" >
                    <input type="text" class="subject" placeholder="Name of the subject" th:field="*{subject5}" >
                    <input type="number" class="marks" placeholder="Marks" th:field="*{mark5}" >
                    <input type="checkbox" class="subject-checkbox">
                </div>
                <div class="subject-field" >
                    <input type="text" class="subject" placeholder="Name of the subject" th:field="*{subject6}" >
                    <input type="number" class="marks" placeholder="Marks" th:field="*{mark6}" >
                    <input type="checkbox" class="subject-checkbox">
                </div>
                <div class="subject-field">
                    <input type="text" class="subject" placeholder="Name of the subject" th:field="*{subject7}" >
                    <input type="number" class="marks" placeholder="Marks" th:field="*{mark7}" >
                    <input type="checkbox" class="subject-checkbox">
                </div>
            </div>

            <button type="button" id="add-subject-btn">Add Subject</button>
            <button type="button" id="delete-subject-btn">Delete Selected Subjects</button>

            <button type="submit">Submit</button>
        </form>
    </div>
</div>


<script>
    document.addEventListener('DOMContentLoaded', function () {
      const addSubjectBtn = document.getElementById('add-subject-btn');
      const deleteSubjectBtn = document.getElementById('delete-subject-btn');
      const subjectsContainer = document.getElementById('subjects-container');

      addSubjectBtn.addEventListener('click', function () {
        const subjectField = document.createElement('div');
        subjectField.classList.add('subject-field');

        const subjectInput = document.createElement('input');
        subjectInput.type = 'text';
        subjectInput.classList.add('subject');
        subjectInput.placeholder = 'Name of the subject';
        subjectInput.required = false;

        const marksInput = document.createElement('input');
        marksInput.type = 'number';
        marksInput.classList.add('marks');
        marksInput.placeholder = 'Marks';
        marksInput.required = false;

        const checkboxInput = document.createElement('input');
        checkboxInput.type = 'checkbox';
        checkboxInput.classList.add('subject-checkbox');

        subjectField.appendChild(subjectInput);
        subjectField.appendChild(marksInput);
        subjectField.appendChild(checkboxInput);
        subjectsContainer.appendChild(subjectField);
      });

      deleteSubjectBtn.addEventListener('click', function () {
        const selectedSubjects = document.querySelectorAll('.subject-checkbox:checked');

        selectedSubjects.forEach(function (subject) {
          subject.parentElement.remove();
        });
      });
    });
  </script>
</body>

</html>
